var oz=function(){function c(){this.yy={}}var d={trace:function(){},yy:{},symbols_:{error:2,instruction:3,EOF:4,variable_creation:5,KEYWORD_SKIP:6,block:7,if_then_statement:8,if_then_else_statement:9,smth:10,case_of_statement:11,procedure_call:12,variable_initializer:13,cell_initializer:14,cell_getter:15,variable_use:16,KEYWORD_END:17,variable_decl:18,KEYWORD_LOCAL:19,variable_creation_id:20,KEYWORD_IN:21,IDENTIFIER:22,OPERATOR_ASSIGNMENT:23,variable_assign:24,expression:25,OPERATOR_CELL_ASSIGNMENT:26,
cell_assign:27,OPERATOR_CELL_GET:28,if_use:29,if_cond:30,KEYWORD_IF:31,KEYWORD_THEN:32,if_use_else:33,KEYWORD_ELSE:34,case_use:35,case_cond:36,case_eval:37,KEYWORD_CASE:38,KEYWORD_OF:39,pattern:40,LABEL:41,"(":42,records_list:43,")":44,formal_parameter_list:45,formal_parameter:46,QUESTION_MARK:47,formal_parameter_list_call:48,formal_parameter_call:49,EMBRACE:50,UNBRACE:51,expression_case:52,records_entry:53,COLON:54,INTEGER:55,expression1:56,KEYWORD_PROC:57,DOLLAR:58,NEWCELL_LITERAL:59,TRUE_LITERAL:60,
FALSE_LITERAL:61,KEYWORD_NIL:62,STRING_LITERAL:63,"+":64,"-":65,"*":66,div:67,mod:68,"/":69,OPERATOR_LESS_THAN_EQUAL:70,exp:71,FLOAT:72,OPERATOR_LESS_THAN:73,OPERATOR_EQUAL:74,OPERATOR_GREATER_THAN_EQUAL:75,OPERATOR_GREATER_THAN:76,OPERATOR_NOT_EQUAL:77,"~":78,PI:79,OPERATOR_RECORD_GET:80,$accept:0,$end:1},terminals_:{2:"error",4:"EOF",6:"KEYWORD_SKIP",17:"KEYWORD_END",19:"KEYWORD_LOCAL",21:"KEYWORD_IN",22:"IDENTIFIER",23:"OPERATOR_ASSIGNMENT",26:"OPERATOR_CELL_ASSIGNMENT",28:"OPERATOR_CELL_GET",
31:"KEYWORD_IF",32:"KEYWORD_THEN",34:"KEYWORD_ELSE",38:"KEYWORD_CASE",39:"KEYWORD_OF",41:"LABEL",42:"(",44:")",47:"QUESTION_MARK",50:"EMBRACE",51:"UNBRACE",54:"COLON",55:"INTEGER",57:"KEYWORD_PROC",58:"DOLLAR",59:"NEWCELL_LITERAL",60:"TRUE_LITERAL",61:"FALSE_LITERAL",62:"KEYWORD_NIL",63:"STRING_LITERAL",64:"+",65:"-",66:"*",67:"div",68:"mod",69:"/",70:"OPERATOR_LESS_THAN_EQUAL",72:"FLOAT",73:"OPERATOR_LESS_THAN",74:"OPERATOR_EQUAL",75:"OPERATOR_GREATER_THAN_EQUAL",76:"OPERATOR_GREATER_THAN",77:"OPERATOR_NOT_EQUAL",
78:"~",79:"PI",80:"OPERATOR_RECORD_GET"},productions_:[0,[3,1],[3,2],[3,2],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[10,1],[10,1],[10,1],[5,2],[16,2],[18,3],[20,1],[13,3],[24,1],[14,3],[27,1],[15,2],[8,2],[29,2],[30,3],[9,2],[33,3],[11,4],[35,2],[36,2],[37,4],[40,1],[40,4],[45,1],[45,2],[46,1],[46,2],[48,1],[48,2],[49,1],[12,4],[52,1],[43,1],[43,2],[53,3],[53,3],[25,1],[25,3],[25,7],[25,1],[25,4],[25,1],[25,1],[25,4],[25,1],[25,1],[56,3],[56,3],[56,3],[56,3],[56,3],[56,3],[56,3],[56,3],[56,
3],[56,3],[56,3],[56,3],[56,3],[56,3],[56,3],[56,3],[56,3],[56,3],[56,3],[56,3],[56,3],[56,3],[56,3],[56,3],[56,2],[56,1],[56,1],[56,1],[56,3],[56,3],[56,2],[71,1],[71,1],[71,1]],performAction:function(c,e,d,f,m,g,k){e=g.length-1;switch(m){case 1:throw Error("Did you forget to write something?");case 2:return c=new CompilationUnit,g[e-1].add_semantics(k[e-1],"{}",100),g[e-1].generate_semantics(),c.close(),c;case 3:return c=new CompilationUnit,g=new VariableDeclarator("E"),g.add_semantics("","",99),
g.add_semantics(k[e-1],"{}",100),g.generate_semantics(),c.close(),c;case 4:this.$=new Block;break;case 5:this.$=new Block;g[e].isEmpty()||(this.$.add_semantics(k[e-1],"",4),g[e].add_semantics(k[e],"",5));this.$.eval_semantics(g[e-1].get_semantics(),g[e].get_semantics());break;case 6:this.$=new Block;do_skip();g[e].isEmpty()||(this.$.add_semantics(k[e-1],"",4),g[e].add_semantics(k[e],"",5));this.$.eval_semantics([],g[e].get_semantics());break;case 7:this.$=new Block;g[e].isEmpty()||(this.$.add_semantics(k[e-
1],"",4),g[e].add_semantics(k[e],"",5));this.$.eval_semantics(g[e-1].get_semantics(),g[e].get_semantics());break;case 8:this.$=new Block;g[e].isEmpty()||(this.$.add_semantics(k[e-1],"",4),g[e].add_semantics(k[e],"",5));this.$.eval_semantics(g[e-1].get_semantics(),g[e].get_semantics());break;case 9:this.$=new Block;g[e].isEmpty()?g[e-1].add_semantics("",g[e-1].get_value(),2):g[e-1].add_semantics(k[e],g[e-1].get_value(),2);this.$.eval_semantics(g[e-1].get_semantics(),g[e].get_semantics());break;case 10:this.$=
new Block;g[e].isEmpty()||(this.$.add_semantics(k[e-1],"",4),g[e].add_semantics(k[e],"",5));this.$.eval_semantics(g[e-1].get_semantics(),g[e].get_semantics());break;case 11:this.$=new Block;g[e].isEmpty()||(this.$.add_semantics(k[e-1],"",4),g[e].add_semantics(k[e],"",5));this.$.eval_semantics(g[e-1].get_semantics(),g[e].get_semantics());break;case 12:this.$=g[e];break;case 13:this.$=g[e];break;case 15:this.$=g[e-1];g[e-1].endScope();break;case 16:this.$=g[e-1];g[e-1].add_semantics(k[e],g[e-1].getIdentifier(),
1);g[e-1].eval_semantics(g[e-1].get_semantics(),g[e].get_semantics());break;case 17:this.$=new VariableDeclarator(g[e-1],cur_decl);break;case 18:this.$=g[e];break;case 19:this.$=new VariableInitializer(g[e-2],g[e],cur_decl);break;case 21:this.$=new CellInitializer(g[e-2],g[e],cur_decl);break;case 23:this.$=get_cell_value(g[e]);break;case 24:this.$=g[e-1];g[e-1].endIf();break;case 25:this.$=g[e-1];g[e-1].set_block(k[e],1);g[e-1].getCondition()&&(g[e-1].add_semantics(k[e],"",4),g[e-1].eval_semantics(g[e-
1].get_semantics(),g[e].get_semantics()));break;case 26:this.$=new IfThen(new Identifier(g[e-1]),cur_decl);break;case 27:g[e-1].endIf();break;case 28:this.$=g[e-2];g[e-2].set_block(k[e],2);g[e-2].getCondition()||(cur_condition[cur_id-1]=!0,g[e-2].add_semantics(k[e],"",4),g[e-2].eval_semantics(g[e-2].get_semantics(),g[e].get_semantics()));break;case 29:this.$=g[e-3];g[e-3].set_block(k[e-1],2);g[e-3].is_it_good()||(g[e-3].add_semantics(k[e-1],"",5),g[e-3].eval_semantics(g[e-3].get_semantics(),g[e-1].get_semantics()));
g[e-3].endIf();break;case 30:this.$=g[e-1];g[e-1].set_block(k[e],1);g[e-1].is_it_good()&&(g[e-1].add_semantics(k[e],g[e-1].getIdentifier(),5),g[e-1].eval_semantics(g[e-1].get_semantics(),g[e].get_semantics()));this.$.endScope();break;case 32:this.$=new Case(g[e-2],g[e],cur_decl);break;case 33:this.$=new Pattern_Identifier(g[e]);break;case 34:this.$=new Record(g[e-3],g[e-1]);break;case 35:this.$=[g[e]];cur_ce=get_ce();cur_CE=jQuery.extend(!0,{},identifiers_list);cur_proc="";break;case 36:this.$=g[e-
1];this.$.push(g[e]);cur_ce=get_ce();cur_CE=jQuery.extend(!0,{},identifiers_list);cur_proc="";break;case 37:this.$=new Identifier(g[e]);break;case 38:this.$=new ReturnIdentifier(g[e]);break;case 39:this.$=[g[e]];break;case 40:this.$=g[e-1];this.$.push(g[e]);break;case 41:this.$=new Identifier(g[e]);break;case 42:this.$=new ProcedureCall(g[e-2],g[e-1],k[e-3],k[e],cur_decl);break;case 43:this.$=get_identifier(g[e]);break;case 44:this.$=[g[e]];break;case 45:this.$=g[e-1];this.$.push(g[e]);break;case 46:this.$=
new Record_entry(g[e-2],new Identifier(g[e]));break;case 47:this.$=new Record_entry(g[e-2],new Identifier(g[e]));break;case 48:this.$=new Expression(g[e]);break;case 49:this.$=new Parenthesis(g[e-1]);break;case 50:this.$=new Procedure(g[e-3],k[e-6],k[e],k[e-1]);this.$.eval_semantics([],g[e-1].get_semantics());break;case 51:this.$=new Identifier(g[e]);break;case 52:this.$=new Cell(g[e-1]);break;case 53:this.$=new Parenthesis(new Expression(new Condition(new Expression(4),new Expression(4),"==")));
break;case 54:this.$=new Parenthesis(new Expression(new Condition(new Expression(4),new Expression(4),"!=")));break;case 55:this.$=new Record(g[e-3],g[e-1]);break;case 56:this.$=new Keyword_nil(g[e]);break;case 57:this.$=new String_literal(g[e]);break;case 58:this.$=new MathExp(g[e-2],g[e],g[e-1]);break;case 59:this.$=new MathExp(g[e-2],g[e],g[e-1]);break;case 60:this.$=new MathExp(g[e-2],g[e],g[e-1]);break;case 61:this.$=new MathExp(g[e-2],g[e],g[e-1]);break;case 62:this.$=new MathExp(g[e-2],g[e],
g[e-1]);break;case 63:this.$=new MathExp(g[e-2],g[e],g[e-1]);break;case 64:this.$=new Condition(new Expression(Number(g[e-2])),g[e],"<=");break;case 65:this.$=new Condition(new Identifier(g[e-2]),g[e],"<=");break;case 66:this.$=new Condition(new Expression(Number(g[e-2])),g[e],"<=");break;case 67:this.$=new Condition(new Expression(Number(g[e-2])),g[e],"<");break;case 68:this.$=new Condition(new Identifier(g[e-2]),g[e],"<");break;case 69:this.$=new Condition(new Expression(Number(g[e-2])),g[e],"<");
break;case 70:this.$=new Condition(new Expression(Number(g[e-2])),g[e],"==");break;case 71:this.$=new Condition(new Identifier(g[e-2]),g[e],"==");break;case 72:this.$=new Condition(new Expression(Number(g[e-2])),g[e],"==");break;case 73:this.$=new Condition(new Expression(Number(g[e-2])),g[e],">=");break;case 74:this.$=new Condition(new Identifier(g[e-2]),g[e],">=");break;case 75:this.$=new Condition(new Expression(Number(g[e-2])),g[e],">=");break;case 76:this.$=new Condition(new Expression(Number(g[e-
2])),g[e],">");break;case 77:this.$=new Condition(new Identifier(g[e-2]),g[e],">");break;case 78:this.$=new Condition(new Expression(Number(g[e-2])),g[e],">");break;case 79:this.$=new Condition(new Expression(Number(g[e-2])),g[e],"!=");break;case 80:this.$=new Condition(new Identifier(g[e-2]),g[e],"!=");break;case 81:this.$=new Condition(new Expression(Number(g[e-2])),g[e],"!=");break;case 82:this.$=new Integer(-Number(c));break;case 83:this.$=new Integer(Number(c));break;case 84:this.$=new Float(Number(c));
break;case 85:this.$=Math.PI;break;case 86:this.$=new Get_entry_record(g[e-2],g[e]);break;case 87:this.$=new Get_entry_record(g[e-2],g[e]);break;case 88:this.$=new Get_cell_value(g[e]);break;case 89:this.$=new Expression(Number(c));break;case 90:this.$=new Identifier(g[e]);break;case 91:this.$=new Expression(Number(c))}},table:[{3:1,4:[1,2],5:3,6:[1,4],16:5,18:6,19:[1,7]},{1:[3]},{1:[2,1]},{4:[1,8]},{4:[1,9]},{17:[1,10]},{5:12,6:[1,13],7:11,8:14,9:15,10:16,11:17,12:18,13:21,14:22,15:23,16:5,17:[2,
4],18:6,19:[1,7],20:27,22:[1,28],28:[1,29],29:19,30:26,31:[1,31],33:20,35:24,36:30,37:32,38:[1,33],50:[1,25]},{20:34,22:[1,35]},{1:[2,2]},{1:[2,3]},{4:[2,15],6:[2,15],17:[2,15],19:[2,15],22:[2,15],28:[2,15],31:[2,15],34:[2,15],38:[2,15],50:[2,15]},{17:[2,16]},{5:12,6:[1,13],7:36,8:14,9:15,10:16,11:17,12:18,13:21,14:22,15:23,16:5,17:[2,4],18:6,19:[1,7],20:27,22:[1,28],28:[1,29],29:19,30:26,31:[1,31],33:20,34:[2,4],35:24,36:30,37:32,38:[1,33],50:[1,25]},{5:12,6:[1,13],7:37,8:14,9:15,10:16,11:17,12:18,
13:21,14:22,15:23,16:5,17:[2,4],18:6,19:[1,7],20:27,22:[1,28],28:[1,29],29:19,30:26,31:[1,31],33:20,34:[2,4],35:24,36:30,37:32,38:[1,33],50:[1,25]},{5:12,6:[1,13],7:38,8:14,9:15,10:16,11:17,12:18,13:21,14:22,15:23,16:5,17:[2,4],18:6,19:[1,7],20:27,22:[1,28],28:[1,29],29:19,30:26,31:[1,31],33:20,34:[2,4],35:24,36:30,37:32,38:[1,33],50:[1,25]},{5:12,6:[1,13],7:39,8:14,9:15,10:16,11:17,12:18,13:21,14:22,15:23,16:5,17:[2,4],18:6,19:[1,7],20:27,22:[1,28],28:[1,29],29:19,30:26,31:[1,31],33:20,34:[2,4],
35:24,36:30,37:32,38:[1,33],50:[1,25]},{5:12,6:[1,13],7:40,8:14,9:15,10:16,11:17,12:18,13:21,14:22,15:23,16:5,17:[2,4],18:6,19:[1,7],20:27,22:[1,28],28:[1,29],29:19,30:26,31:[1,31],33:20,34:[2,4],35:24,36:30,37:32,38:[1,33],50:[1,25]},{5:12,6:[1,13],7:41,8:14,9:15,10:16,11:17,12:18,13:21,14:22,15:23,16:5,17:[2,4],18:6,19:[1,7],20:27,22:[1,28],28:[1,29],29:19,30:26,31:[1,31],33:20,34:[2,4],35:24,36:30,37:32,38:[1,33],50:[1,25]},{5:12,6:[1,13],7:42,8:14,9:15,10:16,11:17,12:18,13:21,14:22,15:23,16:5,
17:[2,4],18:6,19:[1,7],20:27,22:[1,28],28:[1,29],29:19,30:26,31:[1,31],33:20,34:[2,4],35:24,36:30,37:32,38:[1,33],50:[1,25]},{17:[1,43],34:[1,44]},{17:[1,45]},{6:[2,12],17:[2,12],19:[2,12],22:[2,12],28:[2,12],31:[2,12],34:[2,12],38:[2,12],50:[2,12]},{6:[2,13],17:[2,13],19:[2,13],22:[2,13],28:[2,13],31:[2,13],34:[2,13],38:[2,13],50:[2,13]},{6:[2,14],17:[2,14],19:[2,14],22:[2,14],28:[2,14],31:[2,14],34:[2,14],38:[2,14],50:[2,14]},{34:[1,46]},{22:[1,47]},{5:12,6:[1,13],7:48,8:14,9:15,10:16,11:17,12:18,
13:21,14:22,15:23,16:5,17:[2,4],18:6,19:[1,7],20:27,22:[1,28],28:[1,29],29:19,30:26,31:[1,31],33:20,34:[2,4],35:24,36:30,37:32,38:[1,33],50:[1,25]},{23:[1,49]},{23:[2,18],26:[1,50]},{22:[1,51]},{5:12,6:[1,13],7:52,8:14,9:15,10:16,11:17,12:18,13:21,14:22,15:23,16:5,18:6,19:[1,7],20:27,22:[1,28],28:[1,29],29:19,30:26,31:[1,31],33:20,34:[2,4],35:24,36:30,37:32,38:[1,33],50:[1,25]},{22:[1,53]},{32:[1,54]},{22:[1,55]},{21:[1,56]},{21:[2,18]},{17:[2,5],34:[2,5]},{17:[2,6],34:[2,6]},{17:[2,7],34:[2,7]},
{17:[2,8],34:[2,8]},{17:[2,9],34:[2,9]},{17:[2,10],34:[2,10]},{17:[2,11],34:[2,11]},{6:[2,24],17:[2,24],19:[2,24],22:[2,24],28:[2,24],31:[2,24],34:[2,24],38:[2,24],50:[2,24]},{5:12,6:[1,13],7:57,8:14,9:15,10:16,11:17,12:18,13:21,14:22,15:23,16:5,17:[2,4],18:6,19:[1,7],20:27,22:[1,28],28:[1,29],29:19,30:26,31:[1,31],33:20,35:24,36:30,37:32,38:[1,33],50:[1,25]},{6:[2,27],17:[2,27],19:[2,27],22:[2,27],28:[2,27],31:[2,27],34:[2,27],38:[2,27],50:[2,27]},{5:12,6:[1,13],7:58,8:14,9:15,10:16,11:17,12:18,
13:21,14:22,15:23,16:5,17:[2,4],18:6,19:[1,7],20:27,22:[1,28],28:[1,29],29:19,30:26,31:[1,31],33:20,35:24,36:30,37:32,38:[1,33],50:[1,25]},{22:[1,61],48:59,49:60},{17:[2,25],34:[2,25]},{22:[1,67],24:62,25:63,28:[1,78],41:[1,71],42:[1,65],50:[1,68],55:[1,74],56:64,57:[1,66],60:[1,69],61:[1,70],62:[1,72],63:[1,73],72:[1,75],78:[1,76],79:[1,77]},{22:[1,67],25:80,27:79,28:[1,78],41:[1,71],42:[1,65],50:[1,68],55:[1,74],56:64,57:[1,66],60:[1,69],61:[1,70],62:[1,72],63:[1,73],72:[1,75],78:[1,76],79:[1,77]},
{6:[2,23],17:[2,23],19:[2,23],22:[2,23],28:[2,23],31:[2,23],34:[2,23],38:[2,23],50:[2,23]},{34:[2,30]},{32:[1,81]},{6:[2,31],19:[2,31],22:[2,31],28:[2,31],31:[2,31],34:[2,31],38:[2,31],50:[2,31]},{39:[1,82]},{6:[2,17],17:[2,17],19:[2,17],22:[2,17],28:[2,17],31:[2,17],38:[2,17],50:[2,17]},{17:[2,28]},{17:[1,83]},{22:[1,61],49:85,51:[1,84]},{22:[2,39],51:[2,39]},{22:[2,41],51:[2,41]},{6:[2,19],17:[2,19],19:[2,19],22:[2,19],28:[2,19],31:[2,19],34:[2,19],38:[2,19],50:[2,19]},{6:[2,20],17:[2,20],19:[2,
20],22:[2,20],28:[2,20],31:[2,20],34:[2,20],38:[2,20],50:[2,20],64:[1,86],65:[1,87],66:[1,88],67:[1,89],68:[1,90],69:[1,91]},{6:[2,48],17:[2,48],19:[2,48],22:[2,48],28:[2,48],31:[2,48],34:[2,48],38:[2,48],44:[2,48],50:[2,48],64:[2,48],65:[2,48],66:[2,48],67:[2,48],68:[2,48],69:[2,48]},{22:[1,67],25:92,28:[1,78],41:[1,71],42:[1,65],50:[1,68],55:[1,74],56:64,57:[1,66],60:[1,69],61:[1,70],62:[1,72],63:[1,73],72:[1,75],78:[1,76],79:[1,77]},{50:[1,93]},{6:[2,51],17:[2,51],19:[2,51],22:[2,51],28:[2,51],
31:[2,51],34:[2,51],38:[2,51],44:[2,51],50:[2,51],64:[2,51],65:[2,51],66:[2,51],67:[2,51],68:[2,51],69:[2,51],70:[1,94],73:[1,95],74:[1,96],75:[1,97],76:[1,98],77:[1,99],80:[1,100]},{59:[1,101]},{6:[2,53],17:[2,53],19:[2,53],22:[2,53],28:[2,53],31:[2,53],34:[2,53],38:[2,53],44:[2,53],50:[2,53],64:[2,53],65:[2,53],66:[2,53],67:[2,53],68:[2,53],69:[2,53]},{6:[2,54],17:[2,54],19:[2,54],22:[2,54],28:[2,54],31:[2,54],34:[2,54],38:[2,54],44:[2,54],50:[2,54],64:[2,54],65:[2,54],66:[2,54],67:[2,54],68:[2,
54],69:[2,54]},{42:[1,102]},{6:[2,56],17:[2,56],19:[2,56],22:[2,56],28:[2,56],31:[2,56],34:[2,56],38:[2,56],44:[2,56],50:[2,56],64:[2,56],65:[2,56],66:[2,56],67:[2,56],68:[2,56],69:[2,56]},{6:[2,57],17:[2,57],19:[2,57],22:[2,57],28:[2,57],31:[2,57],34:[2,57],38:[2,57],44:[2,57],50:[2,57],64:[2,57],65:[2,57],66:[2,57],67:[2,57],68:[2,57],69:[2,57]},{6:[2,83],17:[2,83],19:[2,83],22:[2,83],28:[2,83],31:[2,83],34:[2,83],38:[2,83],44:[2,83],50:[2,83],64:[2,83],65:[2,83],66:[2,83],67:[2,83],68:[2,83],69:[2,
83],70:[1,103],73:[1,104],74:[1,105],75:[1,106],76:[1,107],77:[1,108]},{6:[2,84],17:[2,84],19:[2,84],22:[2,84],28:[2,84],31:[2,84],34:[2,84],38:[2,84],44:[2,84],50:[2,84],64:[2,84],65:[2,84],66:[2,84],67:[2,84],68:[2,84],69:[2,84],70:[1,109],73:[1,110],74:[1,111],75:[1,112],76:[1,113],77:[1,114]},{22:[1,67],25:115,28:[1,78],41:[1,71],42:[1,65],50:[1,68],55:[1,74],56:64,57:[1,66],60:[1,69],61:[1,70],62:[1,72],63:[1,73],72:[1,75],78:[1,76],79:[1,77]},{6:[2,85],17:[2,85],19:[2,85],22:[2,85],28:[2,85],
31:[2,85],34:[2,85],38:[2,85],44:[2,85],50:[2,85],64:[2,85],65:[2,85],66:[2,85],67:[2,85],68:[2,85],69:[2,85]},{22:[1,116]},{6:[2,21],17:[2,21],19:[2,21],22:[2,21],28:[2,21],31:[2,21],34:[2,21],38:[2,21],50:[2,21]},{6:[2,22],17:[2,22],19:[2,22],22:[2,22],28:[2,22],31:[2,22],34:[2,22],38:[2,22],50:[2,22],64:[1,86],65:[1,87],66:[1,88],67:[1,89],68:[1,90],69:[1,91]},{6:[2,26],17:[2,26],19:[2,26],22:[2,26],28:[2,26],31:[2,26],34:[2,26],38:[2,26],50:[2,26]},{22:[1,118],40:117,41:[1,119]},{6:[2,29],17:[2,
29],19:[2,29],22:[2,29],28:[2,29],31:[2,29],34:[2,29],38:[2,29],50:[2,29]},{6:[2,42],17:[2,42],19:[2,42],22:[2,42],28:[2,42],31:[2,42],34:[2,42],38:[2,42],50:[2,42]},{22:[2,40],51:[2,40]},{22:[1,67],25:120,28:[1,78],41:[1,71],42:[1,65],50:[1,68],55:[1,74],56:64,57:[1,66],60:[1,69],61:[1,70],62:[1,72],63:[1,73],72:[1,75],78:[1,76],79:[1,77]},{22:[1,67],25:121,28:[1,78],41:[1,71],42:[1,65],50:[1,68],55:[1,74],56:64,57:[1,66],60:[1,69],61:[1,70],62:[1,72],63:[1,73],72:[1,75],78:[1,76],79:[1,77]},{22:[1,
67],25:122,28:[1,78],41:[1,71],42:[1,65],50:[1,68],55:[1,74],56:64,57:[1,66],60:[1,69],61:[1,70],62:[1,72],63:[1,73],72:[1,75],78:[1,76],79:[1,77]},{22:[1,67],25:123,28:[1,78],41:[1,71],42:[1,65],50:[1,68],55:[1,74],56:64,57:[1,66],60:[1,69],61:[1,70],62:[1,72],63:[1,73],72:[1,75],78:[1,76],79:[1,77]},{22:[1,67],25:124,28:[1,78],41:[1,71],42:[1,65],50:[1,68],55:[1,74],56:64,57:[1,66],60:[1,69],61:[1,70],62:[1,72],63:[1,73],72:[1,75],78:[1,76],79:[1,77]},{22:[1,67],25:125,28:[1,78],41:[1,71],42:[1,
65],50:[1,68],55:[1,74],56:64,57:[1,66],60:[1,69],61:[1,70],62:[1,72],63:[1,73],72:[1,75],78:[1,76],79:[1,77]},{44:[1,126],64:[1,86],65:[1,87],66:[1,88],67:[1,89],68:[1,90],69:[1,91]},{58:[1,127]},{22:[1,130],55:[1,129],71:128,72:[1,131]},{22:[1,130],55:[1,129],71:132,72:[1,131]},{22:[1,130],55:[1,129],71:133,72:[1,131]},{22:[1,130],55:[1,129],71:134,72:[1,131]},{22:[1,130],55:[1,129],71:135,72:[1,131]},{22:[1,130],55:[1,129],71:136,72:[1,131]},{41:[1,137],55:[1,138]},{22:[1,139]},{41:[1,142],43:140,
53:141,55:[1,143]},{22:[1,130],55:[1,129],71:144,72:[1,131]},{22:[1,130],55:[1,129],71:145,72:[1,131]},{22:[1,130],55:[1,129],71:146,72:[1,131]},{22:[1,130],55:[1,129],71:147,72:[1,131]},{22:[1,130],55:[1,129],71:148,72:[1,131]},{22:[1,130],55:[1,129],71:149,72:[1,131]},{22:[1,130],55:[1,129],71:150,72:[1,131]},{22:[1,130],55:[1,129],71:151,72:[1,131]},{22:[1,130],55:[1,129],71:152,72:[1,131]},{22:[1,130],55:[1,129],71:153,72:[1,131]},{22:[1,130],55:[1,129],71:154,72:[1,131]},{22:[1,130],55:[1,129],
71:155,72:[1,131]},{6:[2,82],17:[2,82],19:[2,82],22:[2,82],28:[2,82],31:[2,82],34:[2,82],38:[2,82],44:[2,82],50:[2,82],64:[2,82],65:[2,82],66:[2,82],67:[2,82],68:[1,90],69:[2,82]},{6:[2,88],17:[2,88],19:[2,88],22:[2,88],28:[2,88],31:[2,88],34:[2,88],38:[2,88],44:[2,88],50:[2,88],64:[2,88],65:[2,88],66:[2,88],67:[2,88],68:[2,88],69:[2,88]},{32:[2,32]},{32:[2,33]},{42:[1,156]},{6:[2,58],17:[2,58],19:[2,58],22:[2,58],28:[2,58],31:[2,58],34:[2,58],38:[2,58],44:[2,58],50:[2,58],64:[2,58],65:[2,58],66:[1,
88],67:[1,89],68:[1,90],69:[1,91]},{6:[2,59],17:[2,59],19:[2,59],22:[2,59],28:[2,59],31:[2,59],34:[2,59],38:[2,59],44:[2,59],50:[2,59],64:[2,59],65:[2,59],66:[1,88],67:[1,89],68:[1,90],69:[1,91]},{6:[2,60],17:[2,60],19:[2,60],22:[2,60],28:[2,60],31:[2,60],34:[2,60],38:[2,60],44:[2,60],50:[2,60],64:[2,60],65:[2,60],66:[2,60],67:[2,60],68:[1,90],69:[2,60]},{6:[2,61],17:[2,61],19:[2,61],22:[2,61],28:[2,61],31:[2,61],34:[2,61],38:[2,61],44:[2,61],50:[2,61],64:[2,61],65:[2,61],66:[2,61],67:[2,61],68:[1,
90],69:[2,61]},{6:[2,62],17:[2,62],19:[2,62],22:[2,62],28:[2,62],31:[2,62],34:[2,62],38:[2,62],44:[2,62],50:[2,62],64:[2,62],65:[2,62],66:[2,62],67:[2,62],68:[1,90],69:[2,62]},{6:[2,63],17:[2,63],19:[2,63],22:[2,63],28:[2,63],31:[2,63],34:[2,63],38:[2,63],44:[2,63],50:[2,63],64:[2,63],65:[2,63],66:[2,63],67:[2,63],68:[1,90],69:[2,63]},{6:[2,49],17:[2,49],19:[2,49],22:[2,49],28:[2,49],31:[2,49],34:[2,49],38:[2,49],44:[2,49],50:[2,49],64:[2,49],65:[2,49],66:[2,49],67:[2,49],68:[2,49],69:[2,49]},{22:[1,
159],45:157,46:158,47:[1,160]},{6:[2,65],17:[2,65],19:[2,65],22:[2,65],28:[2,65],31:[2,65],34:[2,65],38:[2,65],44:[2,65],50:[2,65],64:[2,65],65:[2,65],66:[2,65],67:[2,65],68:[2,65],69:[2,65]},{6:[2,89],17:[2,89],19:[2,89],22:[2,89],28:[2,89],31:[2,89],34:[2,89],38:[2,89],44:[2,89],50:[2,89],64:[2,89],65:[2,89],66:[2,89],67:[2,89],68:[2,89],69:[2,89]},{6:[2,90],17:[2,90],19:[2,90],22:[2,90],28:[2,90],31:[2,90],34:[2,90],38:[2,90],44:[2,90],50:[2,90],64:[2,90],65:[2,90],66:[2,90],67:[2,90],68:[2,90],
69:[2,90]},{6:[2,91],17:[2,91],19:[2,91],22:[2,91],28:[2,91],31:[2,91],34:[2,91],38:[2,91],44:[2,91],50:[2,91],64:[2,91],65:[2,91],66:[2,91],67:[2,91],68:[2,91],69:[2,91]},{6:[2,68],17:[2,68],19:[2,68],22:[2,68],28:[2,68],31:[2,68],34:[2,68],38:[2,68],44:[2,68],50:[2,68],64:[2,68],65:[2,68],66:[2,68],67:[2,68],68:[2,68],69:[2,68]},{6:[2,71],17:[2,71],19:[2,71],22:[2,71],28:[2,71],31:[2,71],34:[2,71],38:[2,71],44:[2,71],50:[2,71],64:[2,71],65:[2,71],66:[2,71],67:[2,71],68:[2,71],69:[2,71]},{6:[2,74],
17:[2,74],19:[2,74],22:[2,74],28:[2,74],31:[2,74],34:[2,74],38:[2,74],44:[2,74],50:[2,74],64:[2,74],65:[2,74],66:[2,74],67:[2,74],68:[2,74],69:[2,74]},{6:[2,77],17:[2,77],19:[2,77],22:[2,77],28:[2,77],31:[2,77],34:[2,77],38:[2,77],44:[2,77],50:[2,77],64:[2,77],65:[2,77],66:[2,77],67:[2,77],68:[2,77],69:[2,77]},{6:[2,80],17:[2,80],19:[2,80],22:[2,80],28:[2,80],31:[2,80],34:[2,80],38:[2,80],44:[2,80],50:[2,80],64:[2,80],65:[2,80],66:[2,80],67:[2,80],68:[2,80],69:[2,80]},{6:[2,86],17:[2,86],19:[2,86],
22:[2,86],28:[2,86],31:[2,86],34:[2,86],38:[2,86],44:[2,86],50:[2,86],64:[2,86],65:[2,86],66:[2,86],67:[2,86],68:[2,86],69:[2,86]},{6:[2,87],17:[2,87],19:[2,87],22:[2,87],28:[2,87],31:[2,87],34:[2,87],38:[2,87],44:[2,87],50:[2,87],64:[2,87],65:[2,87],66:[2,87],67:[2,87],68:[2,87],69:[2,87]},{51:[1,161]},{41:[1,142],44:[1,162],53:163,55:[1,143]},{41:[2,44],44:[2,44],55:[2,44]},{54:[1,164]},{54:[1,165]},{6:[2,64],17:[2,64],19:[2,64],22:[2,64],28:[2,64],31:[2,64],34:[2,64],38:[2,64],44:[2,64],50:[2,
64],64:[2,64],65:[2,64],66:[2,64],67:[2,64],68:[2,64],69:[2,64]},{6:[2,67],17:[2,67],19:[2,67],22:[2,67],28:[2,67],31:[2,67],34:[2,67],38:[2,67],44:[2,67],50:[2,67],64:[2,67],65:[2,67],66:[2,67],67:[2,67],68:[2,67],69:[2,67]},{6:[2,70],17:[2,70],19:[2,70],22:[2,70],28:[2,70],31:[2,70],34:[2,70],38:[2,70],44:[2,70],50:[2,70],64:[2,70],65:[2,70],66:[2,70],67:[2,70],68:[2,70],69:[2,70]},{6:[2,73],17:[2,73],19:[2,73],22:[2,73],28:[2,73],31:[2,73],34:[2,73],38:[2,73],44:[2,73],50:[2,73],64:[2,73],65:[2,
73],66:[2,73],67:[2,73],68:[2,73],69:[2,73]},{6:[2,76],17:[2,76],19:[2,76],22:[2,76],28:[2,76],31:[2,76],34:[2,76],38:[2,76],44:[2,76],50:[2,76],64:[2,76],65:[2,76],66:[2,76],67:[2,76],68:[2,76],69:[2,76]},{6:[2,79],17:[2,79],19:[2,79],22:[2,79],28:[2,79],31:[2,79],34:[2,79],38:[2,79],44:[2,79],50:[2,79],64:[2,79],65:[2,79],66:[2,79],67:[2,79],68:[2,79],69:[2,79]},{6:[2,66],17:[2,66],19:[2,66],22:[2,66],28:[2,66],31:[2,66],34:[2,66],38:[2,66],44:[2,66],50:[2,66],64:[2,66],65:[2,66],66:[2,66],67:[2,
66],68:[2,66],69:[2,66]},{6:[2,69],17:[2,69],19:[2,69],22:[2,69],28:[2,69],31:[2,69],34:[2,69],38:[2,69],44:[2,69],50:[2,69],64:[2,69],65:[2,69],66:[2,69],67:[2,69],68:[2,69],69:[2,69]},{6:[2,72],17:[2,72],19:[2,72],22:[2,72],28:[2,72],31:[2,72],34:[2,72],38:[2,72],44:[2,72],50:[2,72],64:[2,72],65:[2,72],66:[2,72],67:[2,72],68:[2,72],69:[2,72]},{6:[2,75],17:[2,75],19:[2,75],22:[2,75],28:[2,75],31:[2,75],34:[2,75],38:[2,75],44:[2,75],50:[2,75],64:[2,75],65:[2,75],66:[2,75],67:[2,75],68:[2,75],69:[2,
75]},{6:[2,78],17:[2,78],19:[2,78],22:[2,78],28:[2,78],31:[2,78],34:[2,78],38:[2,78],44:[2,78],50:[2,78],64:[2,78],65:[2,78],66:[2,78],67:[2,78],68:[2,78],69:[2,78]},{6:[2,81],17:[2,81],19:[2,81],22:[2,81],28:[2,81],31:[2,81],34:[2,81],38:[2,81],44:[2,81],50:[2,81],64:[2,81],65:[2,81],66:[2,81],67:[2,81],68:[2,81],69:[2,81]},{41:[1,142],43:166,53:141,55:[1,143]},{22:[1,159],46:168,47:[1,160],51:[1,167]},{22:[2,35],47:[2,35],51:[2,35]},{22:[2,37],47:[2,37],51:[2,37]},{22:[1,169]},{6:[2,52],17:[2,52],
19:[2,52],22:[2,52],28:[2,52],31:[2,52],34:[2,52],38:[2,52],44:[2,52],50:[2,52],64:[2,52],65:[2,52],66:[2,52],67:[2,52],68:[2,52],69:[2,52]},{6:[2,55],17:[2,55],19:[2,55],22:[2,55],28:[2,55],31:[2,55],34:[2,55],38:[2,55],44:[2,55],50:[2,55],64:[2,55],65:[2,55],66:[2,55],67:[2,55],68:[2,55],69:[2,55]},{41:[2,45],44:[2,45],55:[2,45]},{22:[1,170]},{22:[1,171]},{41:[1,142],44:[1,172],53:163,55:[1,143]},{5:12,6:[1,13],7:173,8:14,9:15,10:16,11:17,12:18,13:21,14:22,15:23,16:5,17:[2,4],18:6,19:[1,7],20:27,
22:[1,28],28:[1,29],29:19,30:26,31:[1,31],33:20,35:24,36:30,37:32,38:[1,33],50:[1,25]},{22:[2,36],47:[2,36],51:[2,36]},{22:[2,38],47:[2,38],51:[2,38]},{41:[2,46],44:[2,46],55:[2,46]},{41:[2,47],44:[2,47],55:[2,47]},{32:[2,34]},{17:[1,174]},{6:[2,50],17:[2,50],19:[2,50],22:[2,50],28:[2,50],31:[2,50],34:[2,50],38:[2,50],44:[2,50],50:[2,50],64:[2,50],65:[2,50],66:[2,50],67:[2,50],68:[2,50],69:[2,50]}],defaultActions:{2:[2,1],8:[2,2],9:[2,3],11:[2,16],35:[2,18],52:[2,30],57:[2,28],117:[2,32],118:[2,33],
172:[2,34]},parseError:function(c,e){if(e.recoverable)this.trace(c);else throw Error(c);},parse:function(c){var e=[0],d=[null],f=[],m=this.table,g="",k=0,x=0,y=0,A=f.slice.call(arguments,1);this.lexer.setInput(c);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var v=this.lexer.yylloc;f.push(v);var B=this.lexer.options&&this.lexer.options.ranges;this.parseError="function"===typeof this.yy.parseError?this.yy.parseError:
Object.getPrototypeOf(this).parseError;for(var n,w,s,q,t={},u,r;;){s=e[e.length-1];if(this.defaultActions[s])q=this.defaultActions[s];else{if(null===n||"undefined"==typeof n)n=void 0,n=this.lexer.lex()||1,"number"!==typeof n&&(n=this.symbols_[n]||n);q=m[s]&&m[s][n]}if("undefined"===typeof q||!q.length||!q[0]){var z="";r=[];for(u in m[s])this.terminals_[u]&&2<u&&r.push("'"+this.terminals_[u]+"'");z=this.lexer.showPosition?"Parse error on line "+(k+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+
r.join(", ")+", got '"+(this.terminals_[n]||n)+"'":"Parse error on line "+(k+1)+": Unexpected "+(1==n?"end of input":"'"+(this.terminals_[n]||n)+"'");this.parseError(z,{text:this.lexer.match,token:this.terminals_[n]||n,line:this.lexer.yylineno,loc:v,expected:r})}if(q[0]instanceof Array&&1<q.length)throw Error("Parse Error: multiple actions possible at state: "+s+", token: "+n);switch(q[0]){case 1:e.push(n);d.push(this.lexer.yytext);f.push(this.lexer.yylloc);e.push(q[1]);n=null;w?(n=w,w=null):(x=this.lexer.yyleng,
g=this.lexer.yytext,k=this.lexer.yylineno,v=this.lexer.yylloc,0<y&&y--);break;case 2:r=this.productions_[q[1]][1];t.$=d[d.length-r];t._$={first_line:f[f.length-(r||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(r||1)].first_column,last_column:f[f.length-1].last_column};B&&(t._$.range=[f[f.length-(r||1)].range[0],f[f.length-1].range[1]]);s=this.performAction.apply(t,[g,x,k,this.yy,q[1],d,f].concat(A));if("undefined"!==typeof s)return s;r&&(e=e.slice(0,-2*r),d=d.slice(0,-1*
r),f=f.slice(0,-1*r));e.push(this.productions_[q[1]][0]);d.push(t.$);f.push(t._$);q=m[e[e.length-2]][e[e.length-1]];e.push(q);break;case 3:return!0}}return!0}},f=function(){return{EOF:1,parseError:function(c,e){if(this.yy.parser)this.yy.parser.parseError(c,e);else throw Error(c);},setInput:function(c){this._input=c;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,
last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var c=this._input[0];this.yytext+=c;this.yyleng++;this.offset++;this.match+=c;this.matched+=c;c.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return c},unput:function(c){var e=c.length,d=c.split(/(?:\r\n?|\n)/g);this._input=c+this._input;this.yytext=this.yytext.substr(0,
this.yytext.length-e-1);this.offset-=e;c=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);d.length-1&&(this.yylineno-=d.length-1);var f=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:d?(d.length===c.length?this.yylloc.first_column:0)+c[c.length-d.length].length-d[0].length:this.yylloc.first_column-e};this.options.ranges&&
(this.yylloc.range=[f[0],f[0]+this.yyleng-e]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(c){this.unput(this.match.slice(c))},
pastInput:function(){var c=this.matched.substr(0,this.matched.length-this.match.length);return(20<c.length?"...":"")+c.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var c=this.match;20>c.length&&(c+=this._input.substr(0,20-c.length));return(c.substr(0,20)+(20<c.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var c=this.pastInput(),e=Array(c.length+1).join("-");return c+this.upcomingInput()+"\n"+e+"^"},test_match:function(c,e){var d,f;this.options.backtrack_lexer&&(f={yylineno:this.yylineno,
yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(f.yylloc.range=this.yylloc.range.slice(0)));if(d=c[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=d.length;this.yylloc=
{first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:d?d[d.length-1].length-d[d.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+c[0].length};this.yytext+=c[0];this.match+=c[0];this.matches=c;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(c[0].length);this.matched+=c[0];d=this.performAction.call(this,this.yy,
this,e,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(d)return d;if(this._backtrack)for(var m in f)this[m]=f[m];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var c,d,f;this._more||(this.match=this.yytext="");for(var p=this._currentRules(),m=0;m<p.length;m++)if((d=this._input.match(this.rules[p[m]]))&&(!c||d[0].length>c[0].length))if(c=d,f=m,this.options.backtrack_lexer){c=this.test_match(d,p[m]);if(!1!==c)return c;
if(this._backtrack)c=!1;else return!1}else if(!this.options.flex)break;return c?(c=this.test_match(c,p[f]),!1!==c?c:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var c=this.next();return c?c:this.lex()},begin:function(c){this.conditionStack.push(c)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},
_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(c){c=this.conditionStack.length-1-Math.abs(c||0);return 0<=c?this.conditionStack[c]:"INITIAL"},pushState:function(c){this.begin(c)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(c,d,f,p){switch(f){case 2:return 78;case 3:return 50;
case 4:return 51;case 5:return 60;case 6:return 61;case 7:return 59;case 8:return 70;case 9:return 73;case 10:return 74;case 11:return 75;case 12:return 76;case 13:return 77;case 14:return 66;case 15:return"div";case 16:return"mod";case 17:return 65;case 18:return 64;case 19:return 69;case 20:return 42;case 21:return 44;case 22:return 58;case 23:return 47;case 24:return 23;case 25:return 26;case 26:return 54;case 27:return 28;case 28:return 80;case 29:return 6;case 30:return 62;case 31:return 19;
case 32:return 21;case 33:return 17;case 34:return 31;case 35:return 32;case 36:return 34;case 37:return 38;case 38:return 39;case 39:return 57;case 40:return"OPERATOR_BRACE";case 41:return 72;case 42:return 55;case 43:return 22;case 44:return 63;case 45:return 63;case 46:return 41;case 47:return 4}},rules:[/^(?:%.*)/,/^(?:\s+)/,/^(?:~)/,/^(?:\{)/,/^(?:\})/,/^(?:true\b)/,/^(?:false\b)/,/^(?:NewCell\b)/,/^(?:=<)/,/^(?:<)/,/^(?:==)/,/^(?:>=)/,/^(?:>)/,/^(?:\\=)/,/^(?:\*)/,/^(?:div\b)/,/^(?:mod\b)/,
/^(?:-)/,/^(?:\+)/,/^(?:\/)/,/^(?:\()/,/^(?:\))/,/^(?:\$)/,/^(?:\?)/,/^(?:=)/,/^(?::=)/,/^(?::)/,/^(?:@)/,/^(?:\.)/,/^(?:skip\b)/,/^(?:nil\b)/,/^(?:local\b)/,/^(?:in\b)/,/^(?:end\b)/,/^(?:if\b)/,/^(?:then\b)/,/^(?:else\b)/,/^(?:case\b)/,/^(?:of\b)/,/^(?:proc\b)/,/^(?:\[\])/,/^(?:[0-9]+["."]{1}[0-9]+)/,/^(?:[0-9]+([0-9]+)?\b)/,/^(?:[A-Z][a-zA-Z0-9_]*)/,/^(?:"")/,/^(?:"([^"]|{BSL})*")/,/^(?:[']*[a-z0-9\W][a-zA-Z0-9]*[']*)/,/^(?:$)/],conditions:{comment:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,
16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47],inclusive:!0},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47],inclusive:!0}}}}();d.lexer=f;c.prototype=d;d.Parser=c;return new c}();
"undefined"!==typeof require&&"undefined"!==typeof exports&&(exports.parser=oz,exports.Parser=oz.Parser,exports.parse=function(){return oz.parse.apply(oz,arguments)},exports.main=function(c){c[1]||(console.log("Usage: "+c[0]+" FILE"),process.exit(1));c=require("fs").readFileSync(require("path").normalize(c[1]),"utf8");return exports.parser.parse(c)},"undefined"!==typeof module&&require.main===module&&exports.main(process.argv.slice(1)));
var identifiers_list=[],cells_list=[],identifiers_nbr={},cur_condition={0:!0},proc=[],CE=[],cur_proc="",cur_id=1,state_decl=[],cur_decl=0,infinite_loop_avoid=[],return_identifier=[],param_list=[],ASTNode=function(){this.type="ASTNode";this.children=[];this.getType=function(){return this.type}};ASTNode.prototype.getType=function(){return this.type};ASTNode.prototype.appendChild=function(c){this.children.push(c);return c};
ASTNode.prototype.toString=function(){return"ASTNode of type "+this.type+" with "+this.children.length+" children"};var CompilationUnit=function(){this.type="CompilationUnit";this.children=[]};CompilationUnit.prototype.close=function(){identifiers_list={};identifiers_nbr={};cur_condition={0:!0};cur_id=1};var Block=function(){this.type="Block";this.semantic=[]};Block.prototype.isEmpty=function(){return 0==this.semantic.length};
Block.prototype.add_semantics=function(c,d,f){var h={};h.state_loc=c;h.stack=d;h.type=f;this.semantic.push(h)};Block.prototype.eval_semantics=function(c,d){var f=[],f=this.semantic.concat.apply(f,this.semantic),h=[],h=h.concat.apply(h,d),e=[],e=e.concat.apply(e,c);this.semantic=[];this.semantic.push(h.concat(e).concat(f))};Block.prototype.get_semantics=function(){return this.semantic};function do_skip(){cur_proc+="do_skip(); this.add_semantics('skip','',99);"}
var VariableDeclarator=function(c,d){this.type="VariableDeclarator";this.semantic=[];this.decl_nbr=d;cur_decl++;if(-1<c.indexOf("_"))throw Error("Identifiers <code>"+c+"</code> can't contain underscore.");"undefined"==typeof identifiers_nbr[c]?(identifiers_nbr[c]=0,this.identifier=c):(identifiers_nbr[c]+=1,new_value=identifiers_nbr[c],this.identifier=c+"_"+new_value);identifiers_list[this.identifier]="";cur_proc+="new VariableDeclarator('"+c+"',"+this.decl_nbr+");";"undefined"!=typeof state_decl[this.decl_nbr]&&
""!=state_decl[this.decl_nbr].state_loc&&(cur_proc+="this.add_semantics("+JSON.stringify(state_decl[this.decl_nbr].state_loc)+",'"+this.identifier.toLowerCase()+"', 1);")};VariableDeclarator.prototype.getIdentifier=function(){return"undefined"==typeof this.identifier?"":this.identifier.toLowerCase()};VariableDeclarator.prototype.endScope=function(){delete identifiers_list[this.identifier]};
VariableDeclarator.prototype.add_semantics=function(c,d,f){var h={};h.state_loc=c;h.stack=d;h.type=f;this.semantic.push(h);state_decl[this.decl_nbr]=h};VariableDeclarator.prototype.get_semantics=function(){return this.semantic};VariableDeclarator.prototype.eval_semantics=function(c,d){this.semantic.concat.apply([],this.semantic);var f=[],f=f.concat.apply(f,d),h=[],h=h.concat.apply(h,c);this.semantic=[];this.semantic.push(f.concat(h))};
VariableDeclarator.prototype.generate_semantics=function(){for(var c=[],c=c.concat.apply(c,this.semantic),d=c.length,f,h,e,l=document.getElementById("code_"+thevalueoftheexeclick_2).value.split("\n"),p,m,g=0;g<d;g++){p="";f=c[g].state_loc;h=c[g].stack;e=c[g].type;if(""!=f)for(var k=f.first_line-1;k<f.last_line;k++)m=l[k].replace("<","&lt"),m=m.replace(">","&gt"),p+="<p>"+m.split(" ").join("&nbsp")+"</p>";states[cnt_exe]=0==cnt_exe?'<fieldset id="state_'+cnt_exe+'" class="hero-unit"><legend>'+(d-cnt_exe)+"</legend><p>DONE !</fieldset>":'<fieldset id="state_'+
cnt_exe+'" class="hero-unit"><legend>'+(d-cnt_exe)+'</legend><div class="scrollable">'+p+"</div></fieldset>";stacks[cnt_exe]=[h,e];cnt_exe++}};function deep_value(c){for(;"object"==typeof c.get_value()&&"Condition"!=c.type;)c=c.get_value();return c}
var VariableInitializer=function(c,d,f){this.type="VariableInitializer";this.identifier=c;this.value=d;this.semantic=[];this.is_cell=!1;this.decl_nbr=f;cur_decl++;0<identifiers_nbr[c]&&(this.identifier=get_last(c));"Cell"==d.get_type()?this.is_cell=!0:"Procedure"==d.get_type()&&d.set_id(c);if(""==identifiers_list[this.identifier])identifiers_list[this.identifier]=this.value;else{if("undefined"==typeof identifiers_list[this.identifier])throw Error("Identifier <code>"+this.identifier+"</code> is not declared.");
f=cur_proc.indexOf("else");if(-1<f){if(b=cur_proc.substring(f,cur_proc.length),-1<b.indexOf("new VariableInitializer('"+this.identifier+"'"))throw Error("Identifier <code>"+this.identifier+"</code> has already a value.");}else if(-1==return_identifier.indexOf(this.identifier))throw Error("Identifier <code>"+this.identifier+"</code> has already a value.");}if("Identifier"==d.get_type())cur_proc+="new VariableInitializer('"+c+"', new "+d.get_type()+"('"+d.get_id()+"'),"+this.decl_nbr+");","undefined"!=
typeof d.get_value()&&""!=d.get_value()&&"undefined"!=typeof state_decl[this.decl_nbr]&&(cur_proc+="this.add_semantics("+JSON.stringify(state_decl[this.decl_nbr].state_loc)+",'"+this.identifier.toLowerCase()+" = "+identifiers_list[get_last(d.get_id())].get_value().value+"', 2);");else{dp_value=deep_value(d);if("Condition"==dp_value.get_type()&&"Parenthesis"!=d.get_type())throw Error("Identifier <code>"+this.identifier+"</code> is a condition, it requires parenthesis.");if("Expression"!=d.get_type()&&
"Parenthesis"!=d.get_type()||"object"!=typeof d.get_value())"Cell"==d.get_type()?(cur_proc+="new VariableInitializer('"+c+"', new "+d.get_type()+"('"+d.get_value().get_id()+"'),"+this.decl_nbr+");","undefined"!=typeof d.get_value()&&"undefined"!=typeof state_decl[this.decl_nbr]&&(cur_proc+="this.add_semantics("+JSON.stringify(state_decl[this.decl_nbr].state_loc)+",'"+this.identifier.toLowerCase()+" = "+d.get_id()+"', 2);")):("Record"==d.get_type()?cur_proc+="new VariableInitializer('"+c+"', new "+
d.get_type()+"("+d.get_proc_ret()+"),"+this.decl_nbr+");":(f="'"+d.get_value()+"'","number"==typeof d.get_value()&&(f=d.get_value()),cur_proc+="new VariableInitializer('"+c+"', new "+d.get_type()+"("+f+"),"+this.decl_nbr+");"),"undefined"!=typeof d.get_value()&&"undefined"!=typeof state_decl[this.decl_nbr]&&(cur_proc+="this.add_semantics("+JSON.stringify(state_decl[this.decl_nbr].state_loc)+",'"+this.identifier.toLowerCase()+" = "+d.get_value()+"', 2);"));else if("MathExp"==d.get_value().get_type()||
"Condition"==dp_value.get_type()||"Get_entry_record"==dp_value.get_type()||"Integer"==dp_value.type||"Float"==dp_value.type)cur_proc+="new VariableInitializer('"+c+"', new "+d.get_type()+"("+d.get_value().get_proc_ret()+"),"+this.decl_nbr+");","undefined"!=typeof d.get_value().get_value()&&"undefined"!=typeof state_decl[this.decl_nbr]&&(cur_proc="Condition"==dp_value.get_type()?cur_proc+("this.add_semantics("+JSON.stringify(state_decl[this.decl_nbr].state_loc)+",'"+this.identifier.toLowerCase()+" = "+
dp_value.get_value()+"', 2);"):cur_proc+("this.add_semantics("+JSON.stringify(state_decl[this.decl_nbr].state_loc)+",'"+this.identifier.toLowerCase()+" = "+d.get_value().get_value()+"', 2);"))}};VariableInitializer.prototype.get_value=function(){var c=this.value;if("undefined"==typeof this.identifier)return"";for(;"object"==typeof c;)c="Cell"==c.get_type()?c.get_id():c.get_value();return this.identifier.toLowerCase()+" = "+c};
VariableInitializer.prototype.getIdentifier=function(){return"undefined"==typeof this.identifier?"":this.identifier.toLowerCase()};VariableInitializer.prototype.add_semantics=function(c,d,f){var h={};h.state_loc=c;h.stack=d;h.type=f;this.semantic.push(h);state_decl[this.decl_nbr]=h};VariableInitializer.prototype.get_semantics=function(){return this.semantic};function set_identifier(c){return"undefined"!=typeof identifiers_list[c]?identifiers_list[c]:""}
function get_identifier(c){return"undefined"!=typeof identifiers_list[c]?identifiers_list[c]:""}var GetIdentifierValue=function(c){if("undefined"!=typeof identifiers_list[c])return identifiers_list[c]};function update(c,d){var f=is_value_in_array(cells_list,d[0]);-1<f?c.splice(f,1,d):c.store.push(d)}
var CellInitializer=function(c,d,f){this.type="CellInitializer";this.identifier=c;this.value=d;this.semantic=[];this.is_cell=!1;this.decl_nbr=f;cur_decl++;0<identifiers_nbr[c]&&(this.identifier=c+"_"+identifiers_nbr[c]);"Cell"==d.get_type()&&(this.is_cell=!0);cells_list.push([identifiers_list[this.identifier].get_id(),this.value]);"undefined"!=typeof identifiers_list[this.identifier]&&identifiers_list[this.identifier].update(this.value);"Identifier"==d.get_type()&&(cur_proc+="new CellInitializer('"+
c+"', new "+d.get_type()+"('"+d.get_id()+"'),"+this.decl_nbr+");","undefined"!=typeof d.get_value()&&"undefined"!=typeof state_decl[this.decl_nbr]&&(cur_proc+="this.add_semantics("+JSON.stringify(state_decl[this.decl_nbr].state_loc)+",'"+identifiers_list[this.identifier].get_id()+" := "+d.get_id()+"', 2);"))};
CellInitializer.prototype.get_value=function(){var c=this.value;if("undefined"==typeof this.identifier)return"";for(;"object"==typeof c;)c="Cell"==c.get_type()?c.get_id():c.get_value();return identifiers_list[this.identifier.toUpperCase()].get_id()+" := "+this.value.get_id()};CellInitializer.prototype.getIdentifier=function(){return"undefined"==typeof this.identifier?"":this.identifier.toLowerCase()};
CellInitializer.prototype.add_semantics=function(c,d,f){var h={};h.state_loc=c;h.stack=d;h.type=f;this.semantic.push(h);state_decl[this.decl_nbr]=h};CellInitializer.prototype.get_semantics=function(){return this.semantic};function set_cell_value(c,d){-1!=cells_list.indexOf(c)&&(identifiers_list[c]=d)}
var Get_cell_value=function(c){this.type="Get_cell_value";var d=c;0<identifiers_nbr[c]&&(d=c+"_"+identifiers_nbr[c]);this.id=d;d.toLowerCase();c=is_value_in_array(cells_list,identifiers_list[this.id].get_id());-1<c&&(this.value=identifiers_list[get_last_init(cells_list[c][1].get_id())])};Get_cell_value.prototype.get_type=function(){return this.type};Get_cell_value.prototype.get_id=function(){return this.id};Get_cell_value.prototype.get_value=function(){return this.value};
Get_cell_value.prototype.get_proc_ret=function(){return"new Get_cell_value('"+this.id+"')"};var Condition=function(c,d,f){this.l=c;this.r=d;this.operator=f;this.type="Condition"};Condition.prototype.get_type=function(){return this.type};
Condition.prototype.get_proc_ret=function(){var c=this.l.get_value(),d=this.r.get_value();"Identifier"==this.l.get_type()&&(c="'"+this.l.get_id()+"'");"Identifier"==this.r.get_type()&&(d="'"+this.r.get_id()+"'");return"new Condition(new "+this.l.get_type()+"(get_last_if("+c+")),new "+this.r.get_type()+"(get_last_if("+d+")),'"+this.operator+"')"};
Condition.prototype.get_value=function(){if("undefined"==typeof this.l.get_value()||"undefined"==typeof this.r.get_value())return"undefined";var c=this.l.get_value(),d=this.r.get_value();"Identifier"==this.l.get_type()&&"undefined"!=typeof identifiers_list[get_last(this.l.get_id())]?c=c.value:"number"!=typeof c&&"undefined"!=c.get_value()&&"Get_cell_value"==c.get_type()&&(c=c.get_value().get_value());"Identifier"==this.r.get_type()&&"undefined"!=typeof identifiers_list[get_last(this.r.get_id())]?
d=d.value:"number"!=typeof d&&"undefined"!=typeof d.get_value()&&"Get_cell_value"==d.get_type()&&(d=d.get_value().get_value());switch(this.operator){case "<=":this.value=c<=d;break;case "<":this.value=c<d;break;case "==":this.value=c==d;break;case ">=":this.value=c>=d;break;case ">":this.value=c>d;break;case "!=":this.value=c!=d}return this.value};
var IfThen=function(c,d){var f=deep_value(c);if("undefined"!=typeof f.get_type()&&"Condition"!=f.get_type())throw Error("In <code>if</code>: The identifier <code>"+c.get_id()+"</code> must be a condition.");this.type="IfThen";this.id=cur_id;""!=c.get_value()&&(cur_condition[this.id]=c.get_value().get_value().get_value());this.condition=c.get_value();cur_id++;this.semantic=[];this.cur_decl=d;cur_decl++;this.cur_decl_else=d+1;cur_decl++;cur_proc+="new IfThen(new Identifier('"+c.get_id()+"'), "+d+");";
cur_proc="undefined"==typeof this.condition.value.value?cur_proc+("if(identifiers_list[get_last_if('"+c.get_id()+"')].get_value().get_value().get_value()){"):cur_proc+("if("+this.condition.value.value+"){");"undefined"!=typeof state_decl[this.cur_decl]&&(cur_proc+="this.add_semantics("+JSON.stringify(state_decl[this.cur_decl])+",'',6);")};
IfThen.prototype.getCondition=function(){return""==this.condition?!0:"undefined"!=this.condition.get_value().get_value()?this.condition.get_value().get_value():this.condition.get_value()};IfThen.prototype.set_block=function(c,d){1==d?(state_decl[this.cur_decl]=c,new Gen_cur_proc_if(this.cur_decl,d)):state_decl[this.cur_decl_else]=c};
var Gen_cur_proc_if=function(c,d){cur_proc+="new Gen_cur_proc_if("+c+","+d+");";1==d&&(cur_proc+="do_end();}else{",cur_proc+="new Gen_cur_proc_if("+c+",1);","undefined"!=typeof state_decl[c+1]&&(cur_proc+="this.add_semantics("+JSON.stringify(state_decl[c+1])+",'',6);"))};function do_end(){cur_proc+="do_end();}"}IfThen.prototype.endIf=function(){cur_condition[this.id]=!0;do_end()};IfThen.prototype.set_state_loc=function(c){this.state_loc=c};IfThen.prototype.get_state_loc=function(){return this.state_loc};
IfThen.prototype.add_semantics=function(c,d,f){var h={};h.state_loc=c;h.stack=d;h.type=f;this.semantic.push(h)};IfThen.prototype.get_semantics=function(){return this.semantic};IfThen.prototype.eval_semantics=function(c,d){var f=[],f=f.concat.apply(f,d),h=[],h=h.concat.apply(h,c);this.semantic=[];this.semantic.push(f.concat(h))};
var Gen_cur_proc_case=function(c,d){cur_proc+="new Gen_cur_proc_case("+c+","+d+");";1==d&&(cur_proc+="do_end();}else{",cur_proc+="new Gen_cur_proc_case("+c+",1);","undefined"!=typeof state_decl[c+1]&&(cur_proc+="this.add_semantics("+JSON.stringify(state_decl[c+1])+",'',7);"))};
function is_good_pattern(c,d){var f=identifiers_list[get_last(c)];if("Expression"==f.type&&"Identifier"==d.type){var h=d.identifier;"undefined"==typeof identifiers_list[h]||""==identifiers_list[h]?identifiers_nbr[h]=0:(identifiers_nbr[h]+=1,new_value=identifiers_nbr[h],h=h+"_"+new_value);identifiers_list[h]=identifiers_list[get_last(c)];return!0}if(f.label!=d.label||f.entries.length!=d.entries.length)return!1;for(var e=0;e<f.entries.length;e++){if(f.entries[e].feature!=d.entries[e].feature)return!1;
h=d.entries[e].id.id;"undefined"==typeof identifiers_list[h]?identifiers_nbr[h]=0:(identifiers_nbr[h]+=1,new_value=identifiers_nbr[h],h=h+"_"+new_value);d.entries[e].id=f.entries[e].id;identifiers_list[h]=f.entries[e].id}return!0}
function generate_identifier(c,d){if("undefined"!=typeof identifiers_list[get_last(c)]){if("Identifier"==d.type&&"Record"!=identifiers_list[get_last(c)].type&&("Integer"==identifiers_list[get_last(c)].value.type||"Float"==identifiers_list[get_last(c)].value.type))return[d.identifier+" = "+identifiers_list[get_last(c)].value.value];if("Record"==d.type&&"Record"==identifiers_list[get_last(c)].type){for(var f=identifiers_list[get_last(c)],h=[],e=0;e<d.entries.length;e++)"object"==typeof f.entries[e].id.value?
h.push(d.entries[e].id.id+" = "+f.entries[e].id.value.value):h.push(d.entries[e].id.id+" = "+f.entries[e].id.value);return h}}return""}
var Case=function(c,d,f){this.identifier=generate_identifier(c,d);this.type="Case";this.semantic=[];this.pattern=d;"undefined"!=typeof identifiers_list[get_last(c)]&&(this.is_good=is_good_pattern(c,d));this.semantic=[];this.cur_decl=f;cur_decl++;this.cur_decl_else=f+1;cur_decl++;cur_proc+="new Case('"+c+"', "+JSON.stringify(d)+","+f+");";cur_proc+="if(is_good_pattern('"+c+"',"+JSON.stringify(d)+")){";"undefined"!=typeof state_decl[this.cur_decl]&&(cur_proc+="this.add_semantics("+JSON.stringify(state_decl[this.cur_decl])+
",'',7);")};Case.prototype.is_it_good=function(){return this.is_good};Case.prototype.set_block=function(c,d){1==d?(state_decl[this.cur_decl]=c,new Gen_cur_proc_case(this.cur_decl,d)):state_decl[this.cur_decl_else]=c};Case.prototype.endIf=function(){cur_condition[this.id]=!0;do_end()};Case.prototype.set_state_loc=function(c){this.state_loc=c};Case.prototype.get_state_loc=function(){return this.state_loc};Case.prototype.add_semantics=function(c,d,f){var h={};h.state_loc=c;h.stack=d;h.type=f;this.semantic.push(h)};
Case.prototype.get_semantics=function(){return this.semantic};Case.prototype.eval_semantics=function(c,d){this.semantic.concat.apply([],this.semantic);var f=[],f=f.concat.apply(f,d),h=[],h=h.concat.apply(h,c);this.semantic=[];this.semantic.push(f.concat(h))};Case.prototype.getIdentifier=function(){return this.identifier};Case.prototype.endScope=function(){delete identifiers_list[this.identifier]};var Pattern_Expression=function(c){this.type="Expression";this.id=id};
Pattern_Expression.prototype.get_type=function(){return this.type};Pattern_Expression.prototype.get_id=function(){return this.id};Pattern_Expression.prototype.set_expression=function(c){console.debug("\t\t\t ----------- I M IN SET EXPRESSION ");new VariableInitializer(this.id,new Expression(c.get_value()))};var Pattern_Parentheses=function(c){this.type="Parentheses_"+c.get_type();this.value=c;this.identifier=c.get_id()};Pattern_Parentheses.prototype.get_type=function(){return this.type};
Pattern_Parentheses.prototype.get_value=function(){return this.value};var Pattern_Identifier=function(c){this.type="Identifier";this.identifier=c;"undefined"==typeof identifiers_list[c]&&(identifiers_list[c]="")};Pattern_Identifier.prototype.get_type=function(){return this.type};Pattern_Identifier.prototype.get_id=function(){return this.identifier};
Pattern_Identifier.prototype.set_expression=function(c){console.debug("\t\t\t ----------- I M IN SET EXPRESSION ");new VariableInitializer(this.identifier,new Expression(c.get_value()))};var Pattern_List=function(c,d){this.type="List";this.identifier=[c,d];new VariableDeclarator(c);new VariableDeclarator(d)};Pattern_List.prototype.get_type=function(){return this.type};Pattern_List.prototype.get_id=function(){return this.identifier};
Pattern_List.prototype.set_expression=function(c){console.debug("\t\t\t ----------- I M IN SET EXPRESSION ");this.value=c.get_value();new VariableInitializer(this.identifier[0],new Expression(c.get_a()));new VariableInitializer(this.identifier[1],new Expression(c.get_b()))};var Expression=function(c){this.type="Expression";this.value=c};Expression.prototype.get_type=function(){return this.type};Expression.prototype.get_value=function(){return this.value};
Expression.prototype.get_proc_ret=function(){return"new Expression("+this.value.get_proc_ret()+")"};var String_literal=function(c){this.type="String";this.value=c};String_literal.prototype.get_type=function(){return this.type};String_literal.prototype.get_value=function(){return this.value};String_literal.prototype.get_proc_ret=function(){return"new String_literal("+this.value+")"};var Keyword_nil=function(c){this.type="Nil";this.value=c};Keyword_nil.prototype.get_type=function(){return this.type};
Keyword_nil.prototype.get_value=function(){return this.value};Keyword_nil.prototype.get_proc_ret=function(){return"new Keyword_nil("+this.value+")"};var MathExp=function(c,d,f){this.type="MathExp";this.l=c;this.r=d;this.operator=f};MathExp.prototype.get_type=function(){return this.type};
MathExp.prototype.get_proc_ret=function(){var c=this.l.get_value(),d=this.r.get_value();if(""==c||""==d)return"new MathExp(new "+this.l.get_type()+"('"+this.l.id+"'),new "+this.r.get_type()+"('"+this.r.id+"'),'"+this.operator+"')";"undefined"!=typeof c&&"number"!=typeof c&&("Identifier"==c.get_type()?c="'"+this.l.get_id()+"'":"Get_cell_value"==c.get_type()&&(c=c.get_proc_ret()));if("Identifier"==this.l.get_type())c="'"+this.l.get_id()+"'";else if("Integer"==c.type||"Float"==c.type)c="new "+c.type+
"("+c.value+")";"undefined"!=typeof d&&"number"!=typeof d&&("Identifier"==d.get_type()?d="'"+this.r.get_id()+"'":"Get_cell_value"==d.get_type()&&(d=d.get_proc_ret()));if("Identifier"==this.r.get_type())d="'"+this.r.get_id()+"'";else if("Integer"==d.type||"Float"==d.type)d="new "+d.type+"("+d.value+")";return"new MathExp(new "+this.l.get_type()+"("+c+"),new "+this.r.get_type()+"("+d+"),'"+this.operator+"')"};
MathExp.prototype.get_value=function(){if("undefined"==typeof this.l.get_value()||"undefined"==typeof this.r.get_value())return"undefined";var c=this.l.get_value(),d=this.r.get_value();"Identifier"==this.l.get_type()&&"undefined"!=typeof identifiers_list[get_last(this.l.get_id())]?c=identifiers_list[get_last(this.l.get_id())].get_value():"number"!=typeof c&&"undefined"!=c.get_value()&&"Get_cell_value"==c.get_type()&&(c=c.get_value().get_value());"Identifier"==this.r.get_type()&&"undefined"!=typeof identifiers_list[get_last(this.r.get_id())]?
d=identifiers_list[get_last(this.r.get_id())].get_value():"number"!=typeof d&&"undefined"!=typeof d.get_value()&&"Get_cell_value"==d.get_type()&&(d=d.get_value().get_value());switch(this.operator){case "+":if(c.type!=d.type)throw Error("The <code>+</code> operation can only work with 2 Integers or 2 Floats.");this.value=c.value+d.value;break;case "-":if(c.type!=d.type)throw Error("The <code>-</code> operation can only work with 2 Integers or 2 Floats.");this.value=c.value-d.value;break;case "*":if(c.type!=
d.type)throw Error("The <code>*</code> operation can only work with 2 Integers or 2 Floats.");this.value=c.value*d.value;break;case "/":if("Float"!=c.type&&"Float"!=d.type)throw Error("The <code>/</code> operation can only work with Floats.");this.value=c.value/d.value;break;case "div":if("Integer"!=c.type&&"Integer"!=d.type)throw Error("The <code>div</code> operation can only work with Integer.");this.value=Math.floor(c.value/d.value);break;case "mod":if("Integer"!=c.type&&"Integer"!=d.type)throw Error("The <code>mod</code> operation can only work with Integer.");
this.value=c.value%d.value}return this.value};var Parenthesis=function(c){this.type="Parenthesis";this.value=c};Parenthesis.prototype.get_type=function(){return this.type};Parenthesis.prototype.get_value=function(){return this.value};var Integer=function(c){this.type="Integer";this.value=c};Integer.prototype.get_type=function(){return this.type};Integer.prototype.get_value=function(){return this.value};Integer.prototype.get_proc_ret=function(){return"new Integer("+this.value+")"};
var Float=function(c){this.type="Float";this.value=c};Float.prototype.get_type=function(){return this.type};Float.prototype.get_value=function(){return this.value};Float.prototype.get_proc_ret=function(){return"new Float("+this.value+")"};
var Identifier=function(c,d){this.type="Identifier";this.id=c;"undefined"==typeof d?""!=identifiers_list[get_last(c)]&&"undefined"!=typeof identifiers_list[get_last(c)]?this.value=identifiers_list[get_last(c)].get_value():this.value=identifiers_list[get_last(c)]:this.value=d};Identifier.prototype.get_type=function(){return this.type};Identifier.prototype.get_id=function(){return this.id};Identifier.prototype.get_value=function(){return this.value};
var ReturnIdentifier=function(c){this.type="ReturnIdentifier";this.id=c;"undefined"==typeof value?""!=identifiers_list[get_last(c)]&&"undefined"!=typeof identifiers_list[get_last(c)]?this.value=identifiers_list[get_last(c)].get_value():("undefined"==typeof identifiers_nbr[c]?(identifiers_nbr[c]=0,this.id=c):(identifiers_nbr[c]+=1,new_value=identifiers_nbr[c],this.id=identifier+"_"+new_value),identifiers_list[this.id]="",return_identifier.push(this.id)):this.value=value};
ReturnIdentifier.prototype.get_type=function(){return this.type};ReturnIdentifier.prototype.get_id=function(){return this.id};ReturnIdentifier.prototype.get_value=function(){return this.value};var Cell=function(c){this.type="Cell";this.value=new Identifier(c);this.identifier="c"+(cells_list.length+1);cells_list.push([this.identifier,this.value])};Cell.prototype.get_type=function(){return this.type};Cell.prototype.get_id=function(){return this.identifier};Cell.prototype.get_value=function(){return this.value};
Cell.prototype.update=function(c){this.value=c};var List=function(c,d){this.type="List";this.l={};this.l.a=c;this.l.b=d};List.prototype.get_a=function(){return this.l.a};List.prototype.get_b=function(){return this.l.b};List.prototype.get_value=function(){var c="'|'(",d=this.l,c="object"==typeof d.a?c+d.a.get_value():c+d.a,c="object"==typeof d.b?c+" "+d.b.get_value():c+" "+d.b;return c+")"};List.prototype.get_type=function(){return this.type};
var Record_entry=function(c,d){this.type="Record_entry";this.feature=c;this.id=d};Record_entry.prototype.get_type=function(){return this.type};Record_entry.prototype.get_feature=function(){return this.feature};Record_entry.prototype.get_id=function(){return this.id};var Record=function(c,d){this.type="Record";this.label=c;this.entries=d;this.record={};for(var f=0;f<d.length;f++)this.record[d[f].feature]=d[f].id};Record.prototype.get_type=function(){return this.type};Record.prototype.get_feature=function(){return this.feature};
Record.prototype.get_record=function(){return this.record};Record.prototype.get_value=function(){for(var c=this.label+"(",d=0;d<this.entries.length;d++)c=c+this.entries[d].feature+":"+this.entries[d].id.id+" ";" "==c.slice(-1)&&(c=c.substring(0,c.length-1));return c+")"};
Record.prototype.get_proc_ret=function(){for(var c="'"+this.label+"', [",d=0;d<this.entries.length;d++)c=c+"new Record_entry('"+this.entries[d].feature+"',new Identifier('"+this.entries[d].id.id+"')),";","==c.slice(-1)&&(c=c.substring(0,c.length-1));return c+"]"};
function get_state(c,d){var f=document.getElementById("code_"+thevalueoftheexeclick_2).value.split("\n"),h=c.first_line-1;state=f[h].substring(f[h].indexOf("proc"));state=state.split(" ").join("&nbsp");for(h=c.first_line;h<d.last_line;h++)state+="<p>"+f[h].split(" ").join("&nbsp")+"</p>";return state}
function get_ce(){var c="",d;for(d in identifiers_list)if(""==identifiers_list[d])-1==return_identifier.indexOf(d)&&(c+=", ",c+=d.toLowerCase());else if("object"==typeof identifiers_list[d].get_value()&&"ReturnIdentifier"!=identifiers_list[d].value.type){c+=", ";for(a=identifiers_list[d].get_value();"undefined"!=typeof a.value;)a=a.get_value();c=c+d.toLowerCase()+" = "+a}return c}function get_return_places(c){for(var d=[],f=0;f<c.length;f++)"ReturnIdentifier"==c[f].type&&d.push(f);return d}
function add_param(c){for(var d=0;d<c.length;d++)param_list.push(c[d].get_id())}var Procedure=function(c,d,f,h){this.type="Procedure";this.param=c;this.ce=cur_ce;this.CE=cur_CE;this.value="("+get_state(d,f)+""+this.ce+")";this.semantic=[];this.steps="";this.content=h;add_param(c);this.return_places=get_return_places(c)};Procedure.prototype.get_value=function(){return this.value};Procedure.prototype.get_type=function(){return this.type};Procedure.prototype.get_param=function(){return this.param};
Procedure.prototype.get_content=function(){return this.content};Procedure.prototype.set_id=function(c){this.id=c;proc[c]=cur_proc;CE[c]=this.CE;cur_proc=""};Procedure.prototype.get_steps=function(){return this.steps};Procedure.prototype.add_semantics=function(c,d,f){var h={};h.state_loc=c;h.stack=d;h.type=f;-1<d.indexOf("undefined")&&this.semantic.push(h)};
Procedure.prototype.eval_semantics=function(c,d){this.semantic.concat.apply([],this.semantic);var f=[],f=f.concat.apply(f,d),h=[],h=h.concat.apply(h,c);this.semantic=[];this.semantic.push(f.concat(h))};Procedure.prototype.get_semantics=function(){return this.semantic};Procedure.prototype.call=function(c,d){d.length==this.param.length&&redo_proc(c,d,this.param)};Procedure.prototype.compile=function(){new VariableInitializer(this.param[2],new Expression(identifiers_list[this.param[0]].get_value()+identifiers_list[this.param[1]].get_value()))};
function get_state_call(c,d){c.last_column=d.last_column;c.last_line=d.last_line;return c}function get_last(c){var d=[],f;for(f in identifiers_list)if(0==f.indexOf(c)){var h=f.indexOf("_");-1<h&&h==c.length?d.push(f):f.length==c.length&&d.push(f)}return d.slice(-1)[0]}function get_last_closure(c,d){var f=[],h;for(h in d)if(0==h.indexOf(c)){var e=h.indexOf("_");-1<e&&e==c.length?f.push(h):h.length==c.length&&f.push(h)}return f.slice(-1)[0]}
function get_last_if(c){if("number"==typeof c)return c;var d=[],f;for(f in identifiers_list)if(0==f.indexOf(c)){var h=f.indexOf("_");-1<h&&h==c.length?d.push(f):f.length==c.length&&d.push(f)}return d.slice(-2)[0]}function get_last_init(c){var d=[],f;for(f in identifiers_list)if(0==f.indexOf(c)&&""!=identifiers_list[f]){var h=f.indexOf("_");-1<h&&h==c.length?d.push(f):f.length==c.length&&d.push(f)}return d.slice(-1)[0]}
function generate_new_args(c){for(var d="",f=0;f<c.length;f++)0!=f&&(d+=","),d=d+"new "+c[f].type+"('"+c[f].get_id()+"')";return d}
var ProcedureCall=function(c,d,f,h,e){this.id=c;this.args=d;this.semantic=[];this.call=get_state_call(f,h);this.decl_nbr=e;cur_decl++;new_args=generate_new_args(d);cur_proc+="new ProcedureCall('"+c+"',["+new_args+"],"+JSON.stringify(f)+","+JSON.stringify(h)+","+this.decl_nbr+");";""!=identifiers_list[this.id]&&(f=cur_proc+="this.add_semantics("+JSON.stringify(identifiers_list[c].get_content())+",'',42);",cur_proc="",this.redo_proc(c,d,identifiers_list[this.id].get_param()),cur_proc=f+cur_proc)};
ProcedureCall.prototype.get_semantics=function(){return this.semantic};ProcedureCall.prototype.add_semantics=function(c,d,f){var h={};h.state_loc=c;h.stack=d;h.type=f;this.semantic.push(h);state_decl[this.decl_nbr]=h};
ProcedureCall.prototype.redo_proc=function(c,d,f){if("undefined"==typeof proc[c])return-1;"undefined"==typeof infinite_loop_avoid[c]&&(infinite_loop_avoid[c]=0);infinite_loop_avoid[c]++;if(1E4<infinite_loop_avoid[c])throw Error("I think there is an infinite loop somewhere.");cur_proc="";var h=jQuery.extend(!0,{},identifiers_list);identifiers_list=jQuery.extend(!0,{},CE[c]);identifiers_list[c]=h[c];for(var e=0;e<f.length;e++)new VariableDeclarator(f[e].get_id(),cur_decl);for(var e={},l=0;l<d.length;l++)if(-1<
identifiers_list[c].return_places.indexOf(l))e[get_last(f[l].get_id())]=d[l];else if("MathExp"==d[l].value.type){if(isNaN(d[l].value.value))return;new VariableInitializer(f[l].get_id(),new Expression(new Integer(d[l].value.value)),cur_decl)}else"Record"==h[get_last_closure(d[l].id,h)].type?new VariableInitializer(f[l].get_id(),h[get_last_closure(d[l].id,h)],cur_decl):new VariableInitializer(f[l].get_id(),d[l],cur_decl);eval(proc[c]);this.semantic=[];this.add_semantics(identifiers_list[c].get_content(),
"",1);for(var p in e)cur_proc=cur_proc.replace(p,e[p].get_id()),cur_proc=cur_proc.replace(p.toLowerCase()+" ",e[p].get_id().toLowerCase()+" ");c=cur_proc;cur_proc="";eval(c);-1<cur_proc.indexOf("undefined")&&(cur_proc=c);this.semantic.reverse();identifiers_list=jQuery.extend(!0,{},h)};function sem_only(c){return c.match(/this.add_semantics*[(]+[\a-zA-Z]*[)]$/gm)}
function displaySemantics(c,d,f){var h=document.getElementById("code_"+thevalueoftheexeclick_2).value.split("\n"),e="";if(""!=c)for(var l=c.first_line-1;l<c.last_line;l++)e+="<p>"+h[l].split(" ").join("&nbsp")+"</p>";states[cnt_exe]=0==cnt_exe?'<fieldset id="state_'+cnt_exe+'" class="hero-unit"><legend>'+cnt_exe+"</legend><p>DONE !</fieldset>":'<fieldset id="state_'+cnt_exe+'" class="hero-unit"><legend>'+cnt_exe+'</legend><p><div class="scrollable">'+e+"</div></fieldset>";stacks[cnt_exe]=[d,f];cnt_exe++}
function getStackFrom(c){var d="",f="";if(c==cnt_exe-1)d="<p>"+stacks[c][0]+"</p>";else{var h=-1,e=stacks[c][0];switch(stacks[c][1]){case 2:e=e.substring(0,e.indexOf(" = ")),findDeclaration(e,c)}for(e=c;e<cnt_exe;e++)if(!(0<=exclude_from_stack.indexOf(e))&&100!=stacks[e][1])if("[object Array]"===Object.prototype.toString.call(stacks[e][0]))for(var l=0;l<stacks[e][0].length;l++)is_array_in_array(exclude_from_stack,[e,l])||(d=d+"<p>"+stacks[e][0][l].toLowerCase()+"</p>");else l=stacks[e][0].indexOf(" "),
-1==l&&(l=stacks[e][0].length),stacks[e][0].substring(0,l),l=stacks[e][0].indexOf(" := "),h=stacks[e][0].indexOf("= ")+2,1==h&&(h=stacks[e][0].length),h=stacks[e][0].substring(h,stacks[e][0].length),h=is_value_in_array(cells_list,h),0<=h&&0>l?(d=d+"<p>"+stacks[e][0].toLowerCase()+"</p>",""==f&&(f=f+"<p>"+cells_list[h][0]+" : "+cells_list[h][1].get_id()+"</p>")):0<=l?f=f+"<p>"+stacks[e][0].replace("=","")+"</p>":d=d+"<p>"+stacks[e][0].toLowerCase()+"</p>"}f=clean_cell_2s(f);d=d.split(" ").join("&nbsp");
return""==f?'<fieldset id="stack_'+c+'" class="hero-unit"><legend>'+(cnt_exe-c)+'</legend><div class="scrollable">'+d+"</div></fieldset>":'<fieldset id="stack_'+c+'" class="hero-unit stack"><legend>'+(cnt_exe-c)+'</legend><div class="scrollable">'+d+'</div><div class="multiple_store"><div class="scrollable>"'+f+"</div></div></fieldset>"}function is_array_in_array(c,d){for(var f=0;f<c.length;f++)if("object"==typeof c[f])return c[f][0]==d[0]&&c[f][1]==d[1];return!1}
function is_value_in_array(c,d){if(0<d.length)for(var f=0;f<c.length;f++)if(c[f][0]==d)return f;return-1}
function findDeclaration(c,d){for(var f=d+1;f<cnt_exe;f++)if("object"==typeof stacks[f][0])for(var h=0;h<stacks[f][0].length;h++){var e=stacks[f][0][h].indexOf(" ");-1==e&&(e=stacks[f][0][h].length);e=stacks[f][0][h].substring(0,e);if(1==stacks[f][1]||-1!=cells_list.indexOf(e))index=stacks[f][0][h].indexOf(c),-1<index&&stacks[f][0].length==c.length&&exclude_from_stack.push([f,h])}else if(e=stacks[f][0].indexOf(" "),-1==e&&(e=stacks[f][0].length),e=stacks[f][0].substring(0,e),1==stacks[f][1]||-1!=
cells_list.indexOf(e))index=stacks[f][0].indexOf(c),-1<index&&stacks[f][0].length==c.length&&exclude_from_stack.push(f);return-1}
var Get_entry_record=function(c,d){this.type="Get_entry_record";this.identifier=c;this.entry=d;if("undefined"!=typeof identifiers_list[get_last(c)].record[d])"undefined"!=typeof identifiers_list[get_last(c)].record[d].value&&(this.value=identifiers_list[get_last(c)].record[d].value.value);else throw Error("Feature <code>"+d+"</code> is not in the record <code>"+c+"</code>.");};Get_entry_record.prototype.get_type=function(){return this.type};Get_entry_record.prototype.get_id=function(){return this.identifier};
Get_entry_record.prototype.get_value=function(){return this.value};Get_entry_record.prototype.get_proc_ret=function(){return"new Get_entry_record('"+this.identifier+"','"+this.entry+"')"};function clean_cell_2s(c){var d="",f=[];if(""!=c){c=c.split("</p>");for(var h,e=0;e<c.length;e++)h=c[e].substring(3,c[e].indexOf(" :")),-1==f.indexOf(h)&&(f.push(h),d=d+c[e]+"</p>")}return d};
